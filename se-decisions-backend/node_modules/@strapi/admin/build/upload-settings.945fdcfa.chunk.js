"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[695],{67963:function(P,g,t){t.r(g),t.d(g,{SettingsPage:function(){return U},default:function(){return F}});var e=t(32735),a=t(74758),p=t(67879),o=t(43383),c=t(66456),b=t(27649),v=t(82055),f=t(41415),h=t(17e3),L=t(96709),y=t(87933),R=t(72850),D=t(49372),n=t(15335),r=t(5803),l=t(9139),s=t(84306),u=t(89793),O=t.n(u),d=t(15503),S=i=>i,A=t(97889),Z=t(3040),W=t.n(Z);const K={isLoading:!0,isSubmiting:!1,initialData:{responsiveDimensions:!0,sizeOptimization:!0,autoOrientation:!1,videoPreview:!1},modifiedData:{responsiveDimensions:!0,sizeOptimization:!0,autoOrientation:!1,videoPreview:!1}};var H=(i,M)=>(0,A.ZP)(i,m=>{switch(M.type){case"CANCEL_CHANGES":{m.modifiedData=i.initialData;break}case"GET_DATA_SUCCEEDED":{m.isLoading=!1,m.initialData=M.data,m.modifiedData=M.data;break}case"ON_CHANGE":{W()(m,["modifiedData",...M.keys.split(".")],M.value);break}case"ON_SUBMIT":{m.isSubmiting=!0;break}case"SUBMIT_SUCCEEDED":{m.initialData=i.modifiedData,m.isSubmiting=!1;break}case"ON_SUBMIT_ERROR":{m.isSubmiting=!1;break}default:return i}}),G=t(93826);const U=()=>{const{formatMessage:i}=(0,p.Z)(),{lockApp:M,unlockApp:m}=(0,o.o1)(),j=(0,o.lm)(),{get:V,put:$}=(0,o.kY)();(0,o.go)();const[{initialData:X,isLoading:Y,isSubmiting:J,modifiedData:T},B]=(0,e.useReducer)(H,K,S),N=(0,e.useRef)(!0);(0,e.useEffect)(()=>{const C=s.Z.CancelToken.source(),w=async()=>{try{const{data:{data:z}}=await V((0,d.IF)("settings"),{cancelToken:C.token});B({type:"GET_DATA_SUCCEEDED",data:z})}catch(z){console.error(z)}};return N.current&&w(),()=>{C.cancel("Operation canceled by the user."),N.current=!1}},[]);const k=O()(X,T),Q=async E=>{if(E.preventDefault(),!k){M(),B({type:"ON_SUBMIT"});try{await $((0,d.IF)("settings"),T),B({type:"SUBMIT_SUCCEEDED"}),j({type:"success",message:{id:"notification.form.success.fields"}})}catch(C){console.error(C),B({type:"ON_SUBMIT_ERROR"})}m()}},I=({target:{name:E,value:C}})=>{B({type:"ON_CHANGE",keys:E,value:C})};return e.createElement(b.o,{tabIndex:-1},e.createElement(a.q,{title:i({id:(0,d.OB)("page.title"),defaultMessage:"Settings - Media Libray"})}),e.createElement("form",{onSubmit:Q},e.createElement(v.T,{title:i({id:(0,d.OB)("settings.header.label"),defaultMessage:"Media Library"}),primaryAction:e.createElement(f.z,{disabled:k,"data-testid":"save-button",loading:J,type:"submit",startIcon:e.createElement(c.Z,null),size:"S"},i({id:"global.save",defaultMessage:"Save"})),subtitle:i({id:(0,d.OB)("settings.sub-header.label"),defaultMessage:"Configure the settings for the Media Library"})}),e.createElement(h.D,null,Y?e.createElement(o.dO,null):e.createElement(L.A,null,e.createElement(y.k,{direction:"column",alignItems:"stretch",gap:12},e.createElement(R.x,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:!0},e.createElement(y.k,{direction:"column",alignItems:"stretch",gap:4},e.createElement(y.k,null,e.createElement(D.Z,{variant:"delta",as:"h2"},i({id:(0,d.OB)("settings.blockTitle"),defaultMessage:"Asset management"}))),e.createElement(n.r,{gap:6},e.createElement(r.P,{col:6,s:12},e.createElement(l.s,{"aria-label":"responsiveDimensions","data-testid":"responsiveDimensions",checked:T.responsiveDimensions,hint:i({id:(0,d.OB)("settings.form.responsiveDimensions.description"),defaultMessage:"Enabling this option will generate multiple formats (small, medium and large) of the uploaded asset."}),label:i({id:(0,d.OB)("settings.form.responsiveDimensions.label"),defaultMessage:"Responsive friendly upload"}),name:"responsiveDimensions",offLabel:i({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:i({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:E=>{I({target:{name:"responsiveDimensions",value:E.target.checked}})}})),e.createElement(r.P,{col:6,s:12},e.createElement(l.s,{"aria-label":"sizeOptimization","data-testid":"sizeOptimization",checked:T.sizeOptimization,hint:i({id:(0,d.OB)("settings.form.sizeOptimization.description"),defaultMessage:"Enabling this option will reduce the image size and slightly reduce its quality."}),label:i({id:(0,d.OB)("settings.form.sizeOptimization.label"),defaultMessage:"Size optimization"}),name:"sizeOptimization",offLabel:i({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:i({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:E=>{I({target:{name:"sizeOptimization",value:E.target.checked}})}})),e.createElement(r.P,{col:6,s:12},e.createElement(l.s,{"aria-label":"autoOrientation","data-testid":"autoOrientation",checked:T.autoOrientation,hint:i({id:(0,d.OB)("settings.form.autoOrientation.description"),defaultMessage:"Enabling this option will automatically rotate the image according to EXIF orientation tag."}),label:i({id:(0,d.OB)("settings.form.autoOrientation.label"),defaultMessage:"Auto orientation"}),name:"autoOrientation",offLabel:i({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"Off"}),onLabel:i({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"On"}),onChange:E=>{I({target:{name:"autoOrientation",value:E.target.checked}})}}))))))))))};var F=()=>e.createElement(o.O4,{permissions:G.Z.settings},e.createElement(U,null))},17e3:function(P,g,t){t.d(g,{D:function(){return o}});var e=t(32735),a=t(60216),p=t(72850);const o=({children:c})=>e.createElement(p.x,{paddingLeft:10,paddingRight:10},c);o.propTypes={children:a.node.isRequired}},82055:function(P,g,t){t.d(g,{T:function(){return y}});var e=t(32735),a=t(60216),p=t(8471),o=t(72850),c=t(87933);const b=n=>{const r=(0,e.useRef)(null),[l,s]=(0,e.useState)(!0),u=([O])=>{s(O.isIntersecting)};return(0,e.useEffect)(()=>{const O=r.current,d=new IntersectionObserver(u,n);return O&&d.observe(r.current),()=>{O&&d.disconnect()}},[r,n]),[r,l]};var v=t(63060);const f=(n,r)=>{const l=(0,v.W)(r);(0,e.useLayoutEffect)(()=>{const s=new ResizeObserver(l);return Array.isArray(n)?n.forEach(u=>{u.current&&s.observe(u.current)}):n.current&&s.observe(n.current),()=>{s.disconnect()}},[n,l])};var h=t(49372);const L=()=>{const n=(0,e.useRef)(null),[r,l]=(0,e.useState)(null),[s,u]=b({root:null,rootMargin:"0px",threshold:0});return f(s,()=>{s.current&&l(s.current.getBoundingClientRect())}),(0,e.useEffect)(()=>{n.current&&l(n.current.getBoundingClientRect())},[n]),{containerRef:s,isVisible:u,baseHeaderLayoutRef:n,headerSize:r}},y=n=>{const{containerRef:r,isVisible:l,baseHeaderLayoutRef:s,headerSize:u}=L();return e.createElement(e.Fragment,null,e.createElement("div",{style:{height:u?.height},ref:r},l&&e.createElement(D,{ref:s,...n})),!l&&e.createElement(D,{...n,sticky:!0,width:u?.width}))};y.displayName="HeaderLayout";const R=(0,p.ZP)(o.x)`
  width: ${n=>n.width}px;
`,D=e.forwardRef(({navigationAction:n,primaryAction:r,secondaryAction:l,subtitle:s,title:u,sticky:O,width:d,...x},S)=>{const A=typeof s=="string";return O?e.createElement(R,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:d,zIndex:4,"data-strapi-header-sticky":!0},e.createElement(c.k,{justifyContent:"space-between"},e.createElement(c.k,null,n&&e.createElement(o.x,{paddingRight:3},n),e.createElement(o.x,null,e.createElement(h.Z,{variant:"beta",as:"h1",...x},u),A?e.createElement(h.Z,{variant:"pi",textColor:"neutral600"},s):s),l?e.createElement(o.x,{paddingLeft:4},l):null),e.createElement(c.k,null,r?e.createElement(o.x,{paddingLeft:2},r):void 0))):e.createElement(o.x,{ref:S,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:n?6:8,background:"neutral100","data-strapi-header":!0},n?e.createElement(o.x,{paddingBottom:2},n):null,e.createElement(c.k,{justifyContent:"space-between"},e.createElement(c.k,{minWidth:0},e.createElement(h.Z,{as:"h1",variant:"alpha",...x},u),l?e.createElement(o.x,{paddingLeft:4},l):null),r),A?e.createElement(h.Z,{variant:"epsilon",textColor:"neutral600",as:"p"},s):s)});D.displayName="BaseHeaderLayout",D.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},D.propTypes={navigationAction:a.node,primaryAction:a.node,secondaryAction:a.node,sticky:a.bool,subtitle:a.oneOfType([a.string,a.node]),title:a.string.isRequired,width:a.number},y.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},y.propTypes={navigationAction:a.node,primaryAction:a.node,secondaryAction:a.node,subtitle:a.oneOfType([a.string,a.node]),title:a.string.isRequired}},96709:function(P,g,t){t.d(g,{A:function(){return v}});var e=t(32735),a=t(60216),p=t(8471),o=t(72850);const c=(0,p.ZP)(o.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:f})=>f?"auto 1fr":"1fr"};
`,b=(0,p.ZP)(o.x)`
  overflow-x: hidden;
`,v=({sideNav:f,children:h})=>e.createElement(c,{hasSideNav:Boolean(f)},f,e.createElement(b,{paddingBottom:10},h));v.defaultProps={sideNav:void 0},v.propTypes={children:a.node.isRequired,sideNav:a.node}},27649:function(P,g,t){t.d(g,{o:function(){return c}});var e=t(32735),a=t(60216),p=t(8471);const o=p.ZP.main`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,c=({labelledBy:b,...v})=>{const f=b||"main-content-title";return e.createElement(o,{"aria-labelledby":f,id:"main-content",tabIndex:-1,...v})};c.defaultProps={labelledBy:void 0},c.propTypes={labelledBy:a.string}}}]);
