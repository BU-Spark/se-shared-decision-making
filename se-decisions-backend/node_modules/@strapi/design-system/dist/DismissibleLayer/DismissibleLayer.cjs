"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("react"),i=require("@radix-ui/react-use-callback-ref"),R=require("prop-types"),l=e=>e&&typeof e=="object"&&"default"in e?e:{default:e},b=l(a),s=l(R),o=({children:e,className:d,onEscapeKeyDown:f,onPointerDownOutside:p})=>{const r=a.useRef(null),c=i.useCallbackRef(f),u=i.useCallbackRef(p);return a.useEffect(()=>{const t=n=>{n.key==="Escape"&&c(n)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[c]),a.useEffect(()=>{const t=n=>{const y=r.current.closest("[data-react-portal]"),m=n.target.closest("[data-react-portal]");r.current&&!r.current.contains(n.target)&&y===m&&u()};return document.addEventListener("pointerdown",t),()=>document.removeEventListener("pointerdown",t)},[u]),b.default.createElement("div",{ref:r,className:d},e)};o.defaultProps={className:void 0};o.propTypes={children:s.default.node.isRequired,className:s.default.string,onEscapeKeyDown:s.default.func.isRequired,onPointerDownOutside:s.default.func.isRequired};exports.DismissibleLayer=o;
