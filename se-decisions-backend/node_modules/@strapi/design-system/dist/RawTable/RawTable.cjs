"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const i=require("react/jsx-runtime"),r=require("react"),E=require("./focusFocusable.cjs"),P=require("./RawTableContext.cjs"),s=require("../helpers/keyboardKeys.cjs"),j=({colCount:b,rowCount:c,jumpStep:l=3,initialCol:D=0,initialRow:d=0,...k})=>{const f=r.useRef(null),n=r.useRef(!1),[o,t]=r.useState(d),[y,u]=r.useState(D),K=r.useCallback(({colIndex:a,rowIndex:e})=>{u(a),t(e)},[]);r.useEffect(()=>{n.current&&E.focusFocusable(f.current),n.current||(n.current=!0)},[y,o]);const T=a=>{switch(a.key){case s.KeyboardKeys.RIGHT:{a.preventDefault(),u(e=>e<b-1?e+1:e);break}case s.KeyboardKeys.LEFT:{a.preventDefault(),u(e=>e>0?e-1:e);break}case s.KeyboardKeys.UP:{a.preventDefault(),t(e=>e>0?e-1:e);break}case s.KeyboardKeys.DOWN:{a.preventDefault(),t(e=>e<c-1?e+1:e);break}case s.KeyboardKeys.HOME:{a.preventDefault(),a.ctrlKey&&t(0),u(0);break}case s.KeyboardKeys.END:{a.preventDefault(),a.ctrlKey&&t(c-1),u(b-1);break}case s.KeyboardKeys.PAGE_DOWN:{a.preventDefault(),t(e=>e+l<c?e+l:c-1);break}case s.KeyboardKeys.PAGE_UP:{a.preventDefault(),t(e=>e-l>0?e-l:0);break}}},R=r.useMemo(()=>({rowIndex:o,colIndex:y,setTableValues:K}),[y,o,K]);return i.jsx(P.RawTableContext.Provider,{value:R,children:i.jsx("table",{role:"grid",ref:f,"aria-rowcount":c,"aria-colcount":b,onKeyDown:T,...k})})};exports.RawTable=j;
